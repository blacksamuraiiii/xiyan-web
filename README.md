# ğŸ¯ æè¨€æ•°æ®åˆ†æåŠ©æ‰‹

<div align="center">

![æè¨€æ•°æ®åˆ†æåŠ©æ‰‹](https://img.shields.io/badge/æè¨€-æ•°æ®åˆ†æåŠ©æ‰‹-blue?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJNOSAxM2w0IDQgOC04Ii8+PHBhdGggZD0iTTIxIDEyYzAgMS4xLS45IDItMiAySDVjLTEuMSAwLTItLjktMi0yVjVjMC0xLjEuOS0yIDItMmgxNGMxLjEgMCAyIC45IDIgMnoiLz48L3N2Zz4=)
![ç‰ˆæœ¬](https://img.shields.io/badge/ç‰ˆæœ¬-v0.3.1-green?style=for-the-badge)
![è®¸å¯è¯](https://img.shields.io/badge/è®¸å¯è¯-MIT-blue?style=for-the-badge)
![Python](https://img.shields.io/badge/Python-3.8%2B-blue?style=for-the-badge&logo=python)
![Streamlit](https://img.shields.io/badge/Streamlit-1.35%2B-red?style=for-the-badge&logo=streamlit)

**ğŸš€ åŸºäºAIçš„æ™ºèƒ½æ•°æ®åˆ†æå¹³å° - æ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ã€å¤šæ ¼å¼æ–‡ä»¶å¤„ç†å’Œå¯è§†åŒ–åˆ†æ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ç•Œé¢å±•ç¤º](#-ç•Œé¢å±•ç¤º) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)

</div>

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### ğŸ“ å¤šæ ¼å¼æ–‡ä»¶æ”¯æŒ
- **è¡¨æ ¼æ–‡ä»¶**: CSV, Excel (.xls, .xlsx)
- **å›¾ç‰‡æ–‡ä»¶**: JPG, PNG (OCRè¯†åˆ«)
- **æ–‡æ¡£æ–‡ä»¶**: PDF (OCRè¯†åˆ«)
- **æ™ºèƒ½ç¼–ç æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç¼–ç æ ¼å¼

### ğŸ¤– AIæ™ºèƒ½åˆ†æ
- **è‡ªç„¶è¯­è¨€æŸ¥è¯¢**: ä½¿ç”¨XiYan-SQLæ¨¡å‹å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºSQL
- **OCRè¡¨æ ¼æå–**: åŸºäºQwen-VLæ¨¡å‹çš„å›¾ç‰‡/PDFè¡¨æ ¼è¯†åˆ«
- **æ™ºèƒ½æ•°æ®æ¸…æ´—**: è‡ªåŠ¨å¤„ç†ç¼ºå¤±å€¼ã€æ ¼å¼æ ‡å‡†åŒ–

### ğŸ“Š æ•°æ®å¯è§†åŒ–
- **äº¤äº’å¼å›¾è¡¨**: åŸºäºPlotlyçš„åŠ¨æ€å›¾è¡¨ç”Ÿæˆ
- **å¤šç§å›¾è¡¨ç±»å‹**: æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ã€é¥¼å›¾ç­‰
- **ç»“æœå¯¼å‡º**: æ”¯æŒCSVæ ¼å¼ä¸‹è½½

### ğŸ”§ ä¼ä¸šçº§ç‰¹æ€§
- **æ•°æ®åº“é›†æˆ**: PostgreSQLæ•°æ®åº“è‡ªåŠ¨ç®¡ç†
- **ä¼šè¯ç®¡ç†**: å¤šä¼šè¯æ”¯æŒï¼Œæ•°æ®éš”ç¦»
- **è¿æ¥æ± **: é«˜æ€§èƒ½æ•°æ®åº“è¿æ¥ç®¡ç†
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.8+
- **æ•°æ®åº“**: PostgreSQL 12+
- **å†…å­˜**: æ¨è4GB+
- **å­˜å‚¨**: æ¨è1GB+

### ä¸€é”®å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/xiyan-data-analysis-assistant.git
cd xiyan-data-analysis-assistant

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®ä¿¡æ¯

# å¯åŠ¨åº”ç”¨
streamlit run app.py
```

### Dockeréƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/xiyan-data-analysis-assistant.git
cd xiyan-data-analysis-assistant/docker

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# å¯åŠ¨æœåŠ¡
docker-compose up --build -d
```

è®¿é—® `http://localhost:8501` å³å¯ä½¿ç”¨

---

## ğŸ¨ ç•Œé¢å±•ç¤º

### ğŸ“Š æ•°æ®åº“è¿æ¥
![æ•°æ®åº“è¿æ¥ç•Œé¢](./screenshots/0.æ•°æ®åº“è¿æ¥.png)

### ğŸ“ æ–‡ä»¶ä¸Šä¼ 
![æ–‡ä»¶ä¸Šä¼ ç•Œé¢](./screenshots/1.ä¸Šä¼ æ–‡ä»¶æ•°æ®.png)

### ğŸ’¬ æ™ºèƒ½åˆ†æ
![æé—®ä¸åˆ†æç•Œé¢](./screenshots/2.æé—®ä¸åˆ†æ.png)

### ğŸ“ˆ å¯è§†åŒ–ç»“æœ
![æŸ¥è¯¢ç»“æœä¸å›¾è¡¨åˆ†æ](./screenshots/3.æŸ¥è¯¢ç»“æœä¸å›¾è¡¨åˆ†æ.png)

---

## âš™ï¸ éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

```env
# è§†è§‰è¯­è¨€æ¨¡å‹é…ç½® (OCRåŠŸèƒ½)
VL_MODEL_BASEURL=YOUR_VL_MODEL_API_BASE_URL
VL_MODEL_KEY=YOUR_VL_MODEL_API_KEY
VL_MODEL_NAME=qwen-vl-plus

# SQLç”Ÿæˆæ¨¡å‹é…ç½®
SQL_MODEL_BASEURL=YOUR_SQL_MODEL_API_BASE_URL
SQL_MODEL_KEY=YOUR_SQL_MODEL_API_KEY
SQL_MODEL_NAME=sql-agent

# æ•°æ®åº“è¿æ¥é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_DATABASE=your_db_name
```

### æ¨èæ¨¡å‹

#### XiYanSQL-QwenCoder-32B-2412
ä¸“ä¸ºSQLç”Ÿæˆä¼˜åŒ–çš„æ¨¡å‹
- ğŸ¤— [HuggingFace](https://huggingface.co/XGenerationLab/XiYanSQL-QwenCoder-32B-2412)
- ğŸ¯ [é­”æ­](https://modelscope.cn/models/XGenerationLab/XiYanSQL-QwenCoder-32B-2412)

#### Qwen2.5-VL-7B-Instruct
å¼ºå¤§çš„è§†è§‰è¯­è¨€æ¨¡å‹
- ğŸ¤— [HuggingFace](https://huggingface.co/Qwen/Qwen2.5-VL-7B-Instruct)
- ğŸ¯ [é­”æ­](https://modelscope.cn/models/Qwen/Qwen2.5-VL-7B-Instruct)

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **Streamlit**: ç°ä»£åŒ–Webåº”ç”¨æ¡†æ¶
- **Plotly**: äº¤äº’å¼æ•°æ®å¯è§†åŒ–
- **HTML/CSS**: ç•Œé¢ç¾åŒ–

### åç«¯æŠ€æœ¯
- **Python**: æ ¸å¿ƒå¼€å‘è¯­è¨€
- **Pandas**: æ•°æ®å¤„ç†å’Œåˆ†æ
- **NumPy**: æ•°å€¼è®¡ç®—
- **PostgreSQL**: ä¸»æ•°æ®åº“

### AIæ¨¡å‹
- **XiYan-SQL**: è‡ªç„¶è¯­è¨€è½¬SQL
- **Qwen-VL**: è§†è§‰è¯­è¨€æ¨¡å‹
- **OpenAI API**: é€šç”¨APIæ¥å£

### æ–‡ä»¶å¤„ç†
- **PyMuPDF**: PDFæ–‡ä»¶å¤„ç†
- **python-calamine**: Excelæ–‡ä»¶è§£æ
- **chardet**: æ–‡ä»¶ç¼–ç æ£€æµ‹
- **Pillow**: å›¾åƒå¤„ç†

---

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨åº”ç”¨**: è¿è¡Œ `streamlit run app.py`
2. **è¿æ¥æ•°æ®åº“**: åœ¨ä¾§è¾¹æ é…ç½®æ•°æ®åº“è¿æ¥
3. **ä¸Šä¼ æ–‡ä»¶**: æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ æ•°æ®æ–‡ä»¶
4. **è‡ªç„¶è¯­è¨€æŸ¥è¯¢**: è¾“å…¥é—®é¢˜å¦‚"ç»Ÿè®¡æ¯ä¸ªäº§å“çš„é”€å”®æ€»é¢"
5. **æŸ¥çœ‹ç»“æœ**: è·å¾—è¡¨æ ¼å’Œå›¾è¡¨åˆ†æç»“æœ
6. **å¯¼å‡ºæ•°æ®**: ä¸‹è½½CSVæ ¼å¼çš„åˆ†æç»“æœ

### æ”¯æŒçš„æŸ¥è¯¢ç±»å‹

- **ç»Ÿè®¡åˆ†æ**: "è®¡ç®—å¹³å‡å€¼ã€æ€»å’Œã€æœ€å¤§å€¼ç­‰"
- **æ•°æ®ç­›é€‰**: "æ˜¾ç¤ºé”€å”®é¢å¤§äº1000çš„äº§å“"
- **æ•°æ®æ’åº**: "æŒ‰ä»·æ ¼ä»é«˜åˆ°ä½æ’åº"
- **æ•°æ®åˆ†ç»„**: "æŒ‰åœ°åŒºç»Ÿè®¡é”€å”®é¢"
- **æ•°æ®åˆ é™¤**: "åˆ é™¤ä¸´æ—¶è¡¨æ•°æ®"

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/xiyan-data-analysis-assistant.git
cd xiyan-data-analysis-assistant

# åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature-name

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install pytest black flake8

# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼åŒ–
black .
flake8 .
```

### æäº¤è§„èŒƒ

- **åŠŸèƒ½**: `feat: æ·»åŠ æ–°åŠŸèƒ½`
- **ä¿®å¤**: `fix: ä¿®å¤bug`
- **æ–‡æ¡£**: `docs: æ›´æ–°æ–‡æ¡£`
- **æ ·å¼**: `style: ä»£ç æ ¼å¼åŒ–`
- **é‡æ„**: `refactor: ä»£ç é‡æ„`
- **æµ‹è¯•**: `test: æ·»åŠ æµ‹è¯•`

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.3.1 (2025-08-03)

#### ğŸ‰ é‡å¤§ä¼˜åŒ–
- **æ–‡ä»¶è§£æç¨³å®šæ€§**: å¢å¼ºCSVã€Excelã€PDFè§£æçš„å…¼å®¹æ€§
- **UIç•Œé¢ç¾åŒ–**: å…¨æ–°çš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- **æ€§èƒ½ä¼˜åŒ–**: æ·»åŠ æ•°æ®åº“è¿æ¥æ± å’Œæ‰¹é‡æ’å…¥ä¼˜åŒ–
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›
- **CSVè§£æ**: å¤šç§ç¼–ç å°è¯•æœºåˆ¶ (utf-8, gbk, gb2312, latin1)
- **Excelè§£æ**: å¤šå¼•æ“æ”¯æŒ (calamine, openpyxl, xlrd)
- **OCRä¼˜åŒ–**: å†…å­˜ç®¡ç†å’Œå›¾ç‰‡æ ¼å¼è½¬æ¢ä¼˜åŒ–
- **æ•°æ®åº“**: è¿æ¥æ± æ”¯æŒå’Œäº‹åŠ¡å¤„ç†ä¼˜åŒ–

#### ğŸ¨ ç•Œé¢ä¼˜åŒ–
- **å¸ƒå±€ä¼˜åŒ–**: å“åº”å¼åˆ—å¸ƒå±€è®¾è®¡
- **æ–‡ä»¶ä¸Šä¼ **: ç¾åŒ–çš„æ‹–æ‹½ä¸Šä¼ ç•Œé¢
- **æ•°æ®å±•ç¤º**: æ”¹è¿›çš„è¡¨æ ¼å’Œå›¾è¡¨æ˜¾ç¤º
- **ç”¨æˆ·ä½“éªŒ**: ç»Ÿä¸€çš„å›¾æ ‡å’Œè‰²å½©ä¸»é¢˜

#### ğŸ¤– AIä¼˜åŒ–
- **Claude Code**: ç”±Claude CodeååŠ©å®Œæˆä»£ç ä¼˜åŒ–å’Œé‡æ„
- **ä»£ç è´¨é‡**: éµå¾ªKISSåŸåˆ™ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§
- **é”™è¯¯å¤„ç†**: æ ‡å‡†åŒ–çš„é”™è¯¯æ¶ˆæ¯å’Œç”¨æˆ·å»ºè®®

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ™ è‡´è°¢

### ç‰¹åˆ«æ„Ÿè°¢
- **Claude Code** - æ„Ÿè°¢Claude Codeåœ¨v0.3.1ç‰ˆæœ¬ä¼˜åŒ–ä¸­æä¾›çš„ä»£ç é‡æ„ã€æ€§èƒ½ä¼˜åŒ–å’Œç•Œé¢ç¾åŒ–æ”¯æŒ
- **XiYanSQLå›¢é˜Ÿ** - æä¾›ä¼˜ç§€çš„SQLç”Ÿæˆæ¨¡å‹
- **Qwenå›¢é˜Ÿ** - æä¾›å¼ºå¤§çš„è§†è§‰è¯­è¨€æ¨¡å‹

### æŠ€æœ¯æ”¯æŒ
- [Streamlit](https://streamlit.io/) - ç°ä»£åŒ–Webåº”ç”¨æ¡†æ¶
- [Pandas](https://pandas.pydata.org/) - æ•°æ®å¤„ç†åº“
- [Plotly](https://plotly.com/) - æ•°æ®å¯è§†åŒ–åº“
- [PostgreSQL](https://www.postgresql.org/) - å…³ç³»å‹æ•°æ®åº“

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/xiyan-data-analysis-assistant/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/your-username/xiyan-data-analysis-assistant/discussions)
- **é‚®ä»¶è”ç³»**: your-email@example.com

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼**

![Star History](https://img.shields.io/github/stars/your-username/xiyan-data-analysis-assistant?style=social)

</div>